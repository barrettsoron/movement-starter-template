---
import DefaultLayout from '@layouts/DefaultLayout.astro';
import { 
  Accordion, Avatar, AvatarGroup, Badge, Breadcrumbs,
  Card, Media, Modal, Notification, 
  Tabs, Video 
} from 'accessible-astro-components';
---

<DefaultLayout
  title="Accessible Components Demo"
  description="Demonstration of accessible components for movement websites"
>
  <section class="space-content container">
    <Breadcrumbs>
      <a href="/">Home</a>
      <span>Components Demo</span>
    </Breadcrumbs>

    <header class="space-content">
      <h1>Accessible Components Demo</h1>
      <p>A showcase of accessible components optimized for progressive movements and campaigns.</p>
    </header>

    <Notification type="info">
      <p>These components are fully keyboard navigable and screen reader compatible.</p>
    </Notification>

    <section class="space-content">
      <h2>Campaign Information</h2>
      
      <Tabs>
        <div slot="tab">Our Platform</div>
        <div slot="tab">Get Involved</div>
        <div slot="tab">Events</div>
        
        <div slot="panel">
          <h3>Fighting for Economic Justice</h3>
          
          <Accordion>
            <div slot="header">Housing Justice</div>
            <div slot="content">
              <p>Everyone deserves safe, affordable housing. Our campaign supports rent stabilization, public housing investment, and anti-displacement protections.</p>
            </div>
          </Accordion>
          
          <Accordion>
            <div slot="header">Healthcare Access</div>
            <div slot="content">
              <p>Healthcare is a human right. We're fighting for universal healthcare coverage and community clinic expansion.</p>
            </div>
          </Accordion>
        </div>
        
        <div slot="panel">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <Card>
              <h3 slot="header">Volunteer Opportunities</h3>
              <div slot="content">
                <ul>
                  <li>Phone banking</li>
                  <li>Door-to-door canvassing</li>
                  <li>Event organizing</li>
                  <li>Digital outreach</li>
                </ul>
                <Badge variant="success">Always Welcoming New Volunteers</Badge>
              </div>
              <div slot="footer">
                <button id="volunteer-modal" class="button">Sign Up to Volunteer</button>
              </div>
            </Card>
            
            <Card>
              <h3 slot="header">Donate</h3>
              <div slot="content">
                <p>Your contribution helps us organize communities and fight for change.</p>
                <Badge variant="warning">Goal: $10,000 by month end</Badge>
              </div>
              <div slot="footer">
                <button id="donate-modal" class="button">Contribute Now</button>
              </div>
            </Card>
          </div>
        </div>
        
        <div slot="panel">
          <h3>Upcoming Events</h3>
          <Card>
            <h4 slot="header">Community Town Hall</h4>
            <div slot="content">
              <Media 
                src="/posts/post-image-1.png" 
                alt="Previous town hall with community members discussing local issues"
                caption="Join us for our monthly community input session"
              />
              <p><strong>When:</strong> First Saturday of each month, 2-4 PM</p>
              <p><strong>Where:</strong> Community Center, Main St.</p>
              <Badge variant="info">Free Event</Badge>
            </div>
          </Card>
        </div>
      </Tabs>
    </section>

    <section class="space-content">
      <h2>Our Team</h2>
      <p>Meet the organizers and community leaders driving our movement:</p>
      
      <AvatarGroup>
        <Avatar name="Campaign Manager" />
        <Avatar name="Community Organizer" />
        <Avatar name="Policy Director" />
        <Avatar name="Volunteer Coordinator" />
      </AvatarGroup>
    </section>

    <section class="space-content">
      <h2>Campaign Message</h2>
      <Video 
        title="Our Vision for Change" 
        src="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
      />
      <p class="text-sm text-gray-600 mt-2">Watch our campaign launch and learn about our vision for economic justice</p>
    </section>
  </section>

  <!-- Modal Examples -->
  <Modal triggerId="volunteer-modal" title="Join Our Campaign">
    <p>Ready to make a difference? Sign up to volunteer with our campaign.</p>
    <form>
      <div class="form-group">
        <label for="volunteer-name">Full Name:</label>
        <input id="volunteer-name" type="text" required />
      </div>
      <div class="form-group">
        <label for="volunteer-email">Email:</label>
        <input id="volunteer-email" type="email" required />
      </div>
      <div class="form-group">
        <label for="volunteer-phone">Phone (optional):</label>
        <input id="volunteer-phone" type="tel" />
      </div>
      <div class="form-group">
        <label for="volunteer-interests">Volunteer Interests:</label>
        <select id="volunteer-interests" multiple>
          <option value="canvassing">Door-to-door canvassing</option>
          <option value="phonebank">Phone banking</option>
          <option value="events">Event organizing</option>
          <option value="digital">Digital outreach</option>
        </select>
      </div>
      <button type="submit" class="button">Join the Movement</button>
    </form>
  </Modal>

  <Modal triggerId="donate-modal" title="Support Our Campaign">
    <p>Your contribution helps us organize communities and fight for change.</p>
    <form>
      <div class="form-group">
        <label for="amount">Donation Amount:</label>
        <select id="amount">
          <option value="25">$25 - Supporter</option>
          <option value="50">$50 - Advocate</option>
          <option value="100">$100 - Champion</option>
          <option value="250">$250 - Leader</option>
          <option value="other">Other amount</option>
        </select>
      </div>
      <div class="form-group">
        <label for="donor-name">Full Name:</label>
        <input id="donor-name" type="text" required />
      </div>
      <div class="form-group">
        <label for="donor-email">Email:</label>
        <input id="donor-email" type="email" required />
      </div>
      <button type="submit" class="button">Donate Now</button>
    </form>
  </Modal>
</DefaultLayout>

<style lang="scss">
  .form-group {
    margin-bottom: 1rem;
    
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }
    
    input, select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid var(--neutral-600);
      border-radius: 0.25rem;
      font-family: inherit;
    }
    
    select[multiple] {
      height: 6rem;
    }
  }
  
  .grid {
    display: grid;
    gap: 1rem;
    
    &.grid-cols-1 {
      grid-template-columns: 1fr;
    }
    
    @media (min-width: 768px) {
      &.md\:grid-cols-2 {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  }
</style>